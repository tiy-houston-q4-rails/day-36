
Remotify'ing a Form
===

<p>To remotify a form:</p><p><br data-mce-bogus="1"></p><ol><li>add `remote: true`</li><li>remove redirection/render from controller action</li><li>add action.js.erb to views/controller and add `alert(‘sup’);`</li><li>press submit, make sure you see “sup"</li><li>```&lt;% if @link.errors.any? %&gt;<br> $("#new_link").html("BOOO");<br>&lt;% else %&gt;<br> alert('sup');<br>&lt;% end %&gt;```<br></li><li>Ensure the “new_link” matches the form id of the form.</li><li>press submit, make sure html of form id is replaced with “BOOO"</li><li>Move the form to a partial</li><li>replace old form with `&lt;%= render partial: "links/form" %&gt;` … Use “links/form” method when you are rendering in the layout (as opposed to the action only)</li><li>Change the boo to `&lt;%= j&nbsp;render partial: "links/form” %&gt;` … the same thing as 9, but with a “j"</li><li>Confirm your baddassness.&nbsp;Now, let’s handle the Positive case</li><li>Extract the main iterator/links to a partial. Change the view to `&lt;%= render partial: "links" %&gt;`<br></li><li>Confirm works</li><li>Create a wrapper around the new partial, so we can replace it later ```&lt;div id="links"&gt;<br> &lt;%= render partial: "links" %&gt;<br>&lt;/div&gt;```<br></li><li>Add into the else in the js: ``` $("#links").html("&lt;%=j render partial: "links" %&gt;”);```<br></li><li>Add into the controller to re-fetch the list of items (now including the newly created/updated item) ```  def create<br> @link = Link.new(params.require(:link).permit(:url))<br> if @link.save<br>&nbsp; @links = Link.all<br>&nbsp; @link = Link.new<br> end<br>end```<br data-mce-bogus="1"></li><li><br></li></ol><p><br data-mce-bogus="1"></p><p><br data-mce-bogus="1"></p>
